<!--
    Fouzan Abdullah
    6840797
-->
<!DOCTYPE html>
<html>
<title>Login</title>
<head>
  <meta name="viewport" content="width= device-width, initial-scale = 1.0">
  <script type="module" src="data.json">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-analytics.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDLIYOvAhqlZ72w346w9xa-j9Dk6FJGsO4",
      authDomain: "stage2-3p94.firebaseapp.com",
      databaseURL: "https://stage2-3p94-default-rtdb.firebaseio.com",
      projectId: "stage2-3p94",
      storageBucket: "stage2-3p94.appspot.com",
      messagingSenderId: "274180847971",
      appId: "1:274180847971:web:9c39e94585566e6f5b7b56",
      measurementId: "G-YRTETRZSE7"
    };
  
    firebase.initializeApp(firebaseConfig);
var database = firebase.database();


// Convert the JSON data to an object
var jsonData = JSON.parse(JSON.stringify(data));

// Write the data to Firebase using the `database.ref().push()` method
database.ref('path/to/data').push(jsonData)
  .then(function() {
    console.log('JSON data saved successfully!');
  })
  .catch(function(error) {
    console.error('Error saving JSON data: ', error);
  });

  document.getElementById('myForm').addEventListener('submit', function(event) {
  event.preventDefault(); // Prevent the form's default submission behavior

  // Get the form data
  var formData = {
    user3: user3,
    user: user,
  };
  
  // Convert the form data to JSON
  var jsonData = JSON.stringify(formData);

  // Write the JSON data to a file
  var xhr = new XMLHttpRequest();
  xhr.open('POST', 'data.json');
  xhr.setRequestHeader('Content-Type', 'application/json');
  xhr.send(jsonData);
});



  function verifyPassword(){
    var initialName = /^[a-zA-Z]+$/;
    var t = document.getElementById("user").value;
    if (!initialName.test(t)){
      document.getElementById("verifyPassword").style.display = "";
      document.getElementById("errors").value = 'true';
    } else {
      document.getElementById("verifyPassword").style.display = "none";
      document.getElementById("errors").value = "false";
    }
  }

  function verifyEmail(){
    var t3 = document.getElementById("user3").value;
    if (t3 == ""){
      document.getElementById("verifyEmail").style.display = "";
      document.getElementById("errors").value = 'true';
    } else {
      document.getElementById("verifyEmail").style.display = "none";
      document.getElementById("errors").value = "false";
    }
  }


  function checkInputs() {
    if(document.getElementById("errors").value == "true") {
      alert("Errors in your webpage, please fix before pressing login.")
    }
  }
  

</script>
  <link rel="stylesheet" href="loginStyle.css">
</head>
<body>

<!-- <h1>Login Form</h1>
<p>Please fill in all fields and click Login.</p>

<h1>User Information</h1>
<table>
<form id="myForm">

<tr>
<td>
  <label for="user">Email:</label></br>
</td>
<td>
  <input type="email" id="user3" name ="user3" placeholder="Enter email" onblur="verifyEmail()">
  <span id="verifyEmail" style="color: red; display: none;">Email is required</span>
</td>
</tr>
<tr>
    <td>
      <label for="user">Password:</label></br>
    </td>
    <td>
      <input type="password" id="user" name ="user" placeholder="Enter password" onblur="verifyPassword()">
      <span id="verifyPassword" style="color: red; display: none;">Password is required</span>
    </td>
    </tr>
</table> 

</br></br>
  <input type="hidden" id="errors" value="false"/> 
  <input type="submit" name="login" value="Login" onclick="return verifyEmail(); verifyPassword(); checkInputs();"/>
</form> -->

  <div class="login">
    <h1 id="login-header" class="text-center">Login</h1>
    <form>

      <div class="form-group">
        <label class = "form-label" for="email">Email address</label>
        <input class = "form-control" type="email" id="email">
      </div>

      <div class="form-group">
        <label class = "form-label"  for="password">Password</label>
        <input class = "form-control" type="password" id="password">
      </div>

      <div class="form-group form-check">
        <input class = "form-check-input" type="checkbox" id="check">
        <label class = "form-check-label" for="check">Remember me</label>
      </div>

      <input class = "btn btn-success w-100" type="submit" value="SIGN IN">

    </form>
  </div>


</body>
</html>